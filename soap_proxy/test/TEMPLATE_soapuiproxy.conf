#
# VirtualHost for soapuiproxy
#

<VirtualHost 127.0.0.1:8881>
    ServerAdmin none@dummy-host.example.none
    ServerName soapuiproxy
    DocumentRoot "/path/to/o3s/eoxserver/schemas/"
    HostnameLookups Off
    UseCanonicalName Off
    ServerSignature On

RewriteEngine on
#RewriteLog "/var/log/apache2/rrw_log"
#RewriteLogLevel 9

RewriteCond %{HTTP_HOST} ^schemas\.opengis\.net
RewriteRule ^/(.+)     %{HTTP_HOST}/$1 [C]
RewriteRule ^schemas\.opengis\.net/eop/2.0/(.*)  /path/to/o3s/eoxserver/schemas/omeo/$1   [L]
RewriteRule ^schemas\.opengis\.net/gmlcov/(.*)   /path/to/o3s/eoxserver/schemas/gmlcov/$1 [L]
RewriteRule ^schemas\.opengis\.net/ows/(.*)      /path/to/o3s/eoxserver/schemas/ows/$1    [L]
RewriteRule ^schemas\.opengis\.net/wcs/(.*)      /path/to/o3s/eoxserver/schemas/wcs/$1    [L]
RewriteRule ^schemas\.opengis\.net/wcseo/(.*)    /path/to/o3s/eoxserver/schemas/wcseo/$1  [L]
RewriteRule ^schemas\.opengis\.net/(.*)          /path/to/o3s/eoxserver/schemas/SCHEMAS_OPENGIS_NET/$1 [L]

RewriteCond %{HTTP_HOST} ^.*\.w3\.org
RewriteRule ^/(.+)     %{HTTP_HOST}/$1 [C]
RewriteRule ^www\.w3\.org/2001/(.*)      /path/to/o3s/eoxserver/schemas/WWW_W3_ORG/$1 [L]

    <Directory "/path/to/o3s/eoxserver/schemas/">
	Options None
	AllowOverride None
	Order deny,allow
#	Deny from all
#	Allow from 127.0.0.1
	Allow from all
    </Directory>

    <IfModule mod_userdir.c>
	UserDir public_html
	Include /etc/apache2/mod_userdir.conf
    </IfModule>

<IfModule mod_proxy.c>
  ProxyRequests Off

#  ProxyPass          /o3s_wcs http://127.0.0.1/o3s_axis/services/ooosRP
#  ProxyPass         /sp_wcs http://127.0.0.1/o3s_axis/services/soapProxy

  <Proxy *>
      Order deny,allow
      Deny from all
      Allow from 127.0.0.1 127.0.0.2
  </Proxy>

</IfModule>


</VirtualHost>

